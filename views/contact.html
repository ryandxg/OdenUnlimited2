<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Oden Unlimited</title>
    <link rel="stylesheet" type="text/css" href="/public/css/contact.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css"
      integrity="sha512-KfkfwYDsLkIlwQp6LFnl8zNdLGxu9YAA1QvwINks4PhcElQSvqcyVLLD9aMhXd13uQjoXtEKNosOWaZqXgel0g=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <!-- jquery plugin -->
    <script src="https://code.jquery.com/jquery-1.12.4.min.js" 
    integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
  </head>
  <body>
    <header>
      <nav>
          <div class="header-nav-mobile">
            <a href="/" class="logo">
              <img src="/public/images/LOGO  new.png">
             </a>

            <i id="open-menu"  class="fa-solid fa-bars" 
            style="font-size:30px;cursor:pointer;color: white;">
            </i>
          </div>
          

          <div id="mySidenav" class="sidenav close-menu">
              <i id="close-menu" class="fa-solid fa-xmark" 
              style="font-size:30px;cursor:pointer;
              color: black;">
              </i>
          
              <ul>
                <li><a href="/">Home</a></li>
                <li><a href="/#About">About</a></li>
                <li><a href="/#Menu">Menu</a></li>
                <li><a href="/#Gallery">Gallery</a></li>
                <li><a href="/#Order">Order</a></li>
                <li><a href="/#Review">Review</a></li>
                <li><a href="/contact">Contact</a></li>
              </ul>

              <div class="icons-in-hamburger">
                  <i class="fa-solid fa-magnifying-glass"></i>
                  <i class="fa-solid fa-cart-shopping"></i>
              </div>
          </div>
          <div id="mySidenav" class="sidenav icons-login">
              <div class="icon">
                  <i class="fa-solid fa-magnifying-glass"></i>
                  <i class="fa-solid fa-cart-shopping"></i>
              </div>
          </div>
      </nav>
    </header>

    <div class="contactUs">
      <div class="title">
        <h2>Get in touch</h2>
      </div>

      <div class="box">
        <!-- Form -->
        <div class="contact form">
          <h3>Send a Message</h3>
          <form id="myForm" action="/contact" method="post">
            <div class="formBox">
              <div class="row50">
                <div class="inputbox">
                  <span>First Name</span>
                  <input id="fname" type="text" name="fname" placeholder="First Name"  required/>
                </div>
                <div class="inputbox">
                  <span>Last Name</span>
                  <input id="lname" type="text" name="lname" placeholder="Last Name"  required/>
                </div>
              </div>

              <div class="row50">
                <div class="inputbox">
                  <span>Email</span>
                  <input id="email" type="text" name="email" placeholder="Enter Email"  required/>
                </div>
                <div class="inputbox">
                  <span>Mobile</span>
                  <input id="phoneNumber" type="text" name="phoneNumber" placeholder="Number"  required/>
                </div>
              </div>

              <div class="row100">
                <div class="inputbox">
                  <span>Message</span>
                  <textarea id="message" name="message" placeholder="Write your message here.." required></textarea>
                </div>
              </div>

              <div class="row100">
                <div class="inputbox sendbtn">
                  <input id="sendBtn" type="submit" value="Send" />
                </div>
              </div>
            </div>
          </form>
        </div>

        <!-- info Box -->
        <div class="contact info">
          <h3>Contact Info</h3>
          <div class="infobox">
            <div>
              <span><ion-icon name="location"></ion-icon></span>
              <p>12, High Street, Crewe CW27BN <br />UK</p>
            </div>
            <div>
              <span><ion-icon name="mail"></ion-icon></span>
              <a href="mailto:foodshop123@gmail.com">foodshop123@gmail.com</a>
            </div>
            <div>
              <span><ion-icon name="call"></ion-icon></span>
              <a href="tel:+44 7949 686 248">+44 7949 686 248</a>
            </div>
            <!-- social Media link -->
            <ul class="sci">
              <i class="fa-brands fa-facebook-f"></i>
              <i class="fa-brands fa-instagram"></i>
            </ul>
          </div>
        </div>

        <!-- map -->
        <div class="contact map">
          <iframe
            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2395.8298285741307!2d-2.4403830999999996!3d53.
                09529109999999!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x487a5f580eec44cb%3A0xf4318bf55a324a0f!
                2s12%20High%20St%2C%20Crewe%20CW2%207BN%2C%20UK!5e0!3m2!1sen!2sng!4v1696643347891!5m2!1sen!2sng"
            style="border: 0"
            allowfullscreen=""
            loading="lazy"
            referrerpolicy="no-referrer-when-downgrade"
          ></iframe>
        </div>
      </div>
    </div>

    <div id="notification" style="display: none;" class="notification">
      Message sent
    </div>

    <script type="application/javascript" src="/public/js/script.js"></script>
    <script>
      document.getElementById("myForm").addEventListener("submit", async function (event) {
        event.preventDefault();
        
        // Create a JavaScript object with form field values
        const formData = {
          fname: document.getElementById("fname").value,
          lname: document.getElementById("lname").value,
          email: document.getElementById("email").value,
          phoneNumber: document.getElementById("phoneNumber").value,
          message: document.getElementById("message").value,
        };
  
        // Serialize the JavaScript object to JSON
        const jsonData = JSON.stringify(formData);
  
        try {
          // Send the JSON data to the server
          const response = await fetch('/contact', {
            method: 'POST',
            body: jsonData,
            headers: {
              'Content-Type': 'application/json',
            },
          });
  
          if (response.ok) {        
            // showNotification();
            window.location.reload();
            await showNotification();
            // const data = await response.json();
            // alert(data.message);
          } else {
            console.log('Error:', response.status);
          }
        } catch (error) {
          console.error('Network error:', error);
        }
      });
    </script>

    <script
      type="module"
      src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"
    ></script>
    <script
      nomodule
      src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"
    ></script>

    <!-- <script type="application/javascript" src="/public/js/script.js"></script> -->
  </body>
</html>
